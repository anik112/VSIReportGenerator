
CREATE TABLE TB_ADVANCE_AMOUNT
(
  ID            NUMBER                          NOT NULL,
  SUB_DATE      VARCHAR2(50 BYTE),
  EMP_NAME      VARCHAR2(250 BYTE),
  AMOUNT        FLOAT(2),
  COST          FLOAT(2),
  CASH_IN_HAND  FLOAT(2),
  AUTHORIZED    VARCHAR2(10 BYTE)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE OR REPLACE TRIGGER AUTO_INCREMENT_ID
BEFORE INSERT
   ON TB_ADVANCE_AMOUNT
   FOR EACH ROW
DECLARE
   TEMPVAR NUMBER:=0;

BEGIN
   SELECT MAX(ID) INTO TEMPVAR FROM TB_ADVANCE_AMOUNT;
   :NEW.ID:=(TEMPVAR+1);
END;
/
SHOW ERRORS;



--------------------------




CREATE TABLE TB_COMPANY_INFO
(
  COMID    NUMBER,
  COMPANY  VARCHAR2(255 BYTE),
  ADDRESS  VARCHAR2(255 BYTE),
  LOGO     BLOB
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
LOB (LOGO) STORE AS 
      ( TABLESPACE  USERS 
        ENABLE      STORAGE IN ROW
        CHUNK       8192
        PCTVERSION  0
        NOCACHE
        STORAGE    (
                    INITIAL          64K
                    MINEXTENTS       1
                    MAXEXTENTS       2147483645
                    PCTINCREASE      0
                    BUFFER_POOL      DEFAULT
                   )
      )
NOCACHE
NOPARALLEL
MONITORING;


-----------------------------------------


CREATE TABLE TB_HARDWARE_BILL
(
  SL           NUMBER,
  PYEAR        NUMBER,
  PMONTH       VARCHAR2(25 BYTE),
  BILL_DATE    DATE,
  BILL_NUMBER  VARCHAR2(150 BYTE),
  REQ_NO       VARCHAR2(150 BYTE),
  VAT          NUMBER,
  VAT_AMOUNT   NUMBER,
  AMOUNT       NUMBER,
  COMPANY      VARCHAR2(255 BYTE),
  BRAND        VARCHAR2(150 BYTE),
  MODEL_NO     VARCHAR2(150 BYTE),
  ORIGIN       VARCHAR2(150 BYTE),
  WARRANTY     NUMBER,
  FACE_CAP     NUMBER,
  FINGER_CAP   NUMBER,
  CARD_CAP     NUMBER,
  EVENT_LOG    NUMBER,
  COM_WAY      VARCHAR2(150 BYTE),
  ITEM         VARCHAR2(255 BYTE),
  DTLS         VARCHAR2(255 BYTE),
  QTY          NUMBER,
  UNIT         VARCHAR2(150 BYTE),
  UNIT_PRICE   NUMBER
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          16K
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE INDEX INDX_HARD_BILL_NO ON TB_HARDWARE_BILL
(BILL_NUMBER)
LOGGING
TABLESPACE INDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          15424K
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE INDEX INDX_HARD_REQ_NO ON TB_HARDWARE_BILL
(REQ_NO)
LOGGING
TABLESPACE INDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          15424K
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE OR REPLACE TRIGGER AUTO_INCREMENT_HARD_SL
BEFORE INSERT
   ON TB_HARDWARE_BILL
   FOR EACH ROW
DECLARE
   TEMPVAR NUMBER:=0;

BEGIN
   SELECT MAX(SL) INTO TEMPVAR FROM TB_HARDWARE_BILL;
   :NEW.SL:=(TEMPVAR+1);
END;
/
SHOW ERRORS;



--------------------------------


CREATE TABLE TB_INCOME_AND_COST
(
  ID            NUMBER                          NOT NULL,
  ENTRY_DATE    VARCHAR2(50 BYTE),
  DETLS         VARCHAR2(50 BYTE),
  COM_NAME      VARCHAR2(250 BYTE),
  INCOME        FLOAT(2),
  COST          FLOAT(2),
  TOTAL_AMOUNT  FLOAT(2)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE OR REPLACE TRIGGER AUTO_INCREMENT_AND_COST_ID
BEFORE INSERT
	   ON TB_INCOME_AND_COST
	   FOR EACH ROW
DECLARE
	   TEMP_VER NUMBER:=0;

BEGIN
	 SELECT MAX(ID) INTO TEMP_VER FROM TB_INCOME_AND_COST;
	 :NEW.ID:=(TEMP_VER+1);
END;
/
SHOW ERRORS;



-------------------------------------



CREATE TABLE TB_MONTH
(
  SLNO        NUMBER,
  MONTH_NAME  VARCHAR2(150 BYTE),
  MONTH_DAY   NUMBER
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


--------------------------------------------


CREATE TABLE TB_MONTHLY_BILL
(
  SL           NUMBER,
  PYEAR        NUMBER,
  PMONTH       VARCHAR2(25 BYTE),
  BILL_DATE    DATE,
  BILL_NUMBER  VARCHAR2(150 BYTE),
  VAT          NUMBER,
  AMOUNT       NUMBER,
  COMPANY      VARCHAR2(255 BYTE),
  VAT_AMOUNT   NUMBER
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


-----------------------------------------


CREATE TABLE TB_REASON_INCOME_COST
(
  ID      NUMBER                                NOT NULL,
  REASON  VARCHAR2(250 BYTE)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE OR REPLACE TRIGGER AUTO_INCREMENT_REASON_ID
BEFORE INSERT
	   ON TB_REASON_INCOME_COST
	   FOR EACH ROW
DECLARE
	   TEMP_VER NUMBER:=0;

BEGIN
	 SELECT MAX(ID) INTO TEMP_VER FROM TB_REASON_INCOME_COST;
	 :NEW.ID:=(TEMP_VER+1);
END;
/
SHOW ERRORS;



------------------------------------------


CREATE TABLE TB_REQ_BILL
(
  SL           NUMBER,
  PYEAR        NUMBER,
  PMONTH       VARCHAR2(25 BYTE),
  BILL_DATE    DATE,
  BILL_NUMBER  VARCHAR2(150 BYTE),
  VAT          NUMBER,
  AMOUNT       NUMBER,
  COMPANY      VARCHAR2(255 BYTE),
  VAT_AMOUNT   NUMBER,
  COL_CONTENT  VARCHAR2(255 BYTE),
  REQ_NO       VARCHAR2(150 BYTE)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE INDEX INDX_BILL_NO ON TB_REQ_BILL
(BILL_NUMBER)
LOGGING
TABLESPACE INDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          15424K
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE INDEX INDX_REQ_NO ON TB_REQ_BILL
(REQ_NO)
LOGGING
TABLESPACE INDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          15424K
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE OR REPLACE TRIGGER AUTO_INCREMENT_SL
BEFORE INSERT
   ON TB_REQ_BILL
   FOR EACH ROW
DECLARE
   TEMPVAR NUMBER:=0;

BEGIN
   SELECT MAX(SL) INTO TEMPVAR FROM TB_REQ_BILL;
   :NEW.SL:=(TEMPVAR+1);
END;
/
SHOW ERRORS;



